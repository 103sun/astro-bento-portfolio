---
import Card from "./Card/index.astro";
---

<Card colSpan="lg:col-span-2" rowSpan="md:row-span-1">
  <div class="flex flex-row justify-between items-center h-full w-full px-4">
    <div class="text-left">
      <p class="text-xs font-bold uppercase tracking-wider text-gray-500">Stanford</p>
      <p id="stanford-time" class="text-xl md:text-2xl font-mono text-white"></p>
    </div>

    <div class="h-10 w-[1px] bg-gray-800 mx-2"></div>

    <div class="text-right">
      <p class="text-xs font-bold uppercase tracking-wider text-gray-500">Durham</p>
      <p id="durham-time" class="text-xl md:text-2xl font-mono text-white"></p>
    </div>
  </div>
</Card>

<script>
  function updateTime() {
    const now = new Date();

    const options = (tz: string) => ({
      timeZone: tz,
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      hour12: true,
    } as const);

    const stanfordTime = new Intl.DateTimeFormat("en-US", options("America/Los_Angeles")).format(now);
    const durhamTime = new Intl.DateTimeFormat("en-US", options("America/New_York")).format(now);

    const stanfordEl = document.getElementById("stanford-time");
    const durhamEl = document.getElementById("durham-time");

    if (stanfordEl) stanfordEl.textContent = stanfordTime;
    if (durhamEl) durhamEl.textContent = durhamTime;
  }

  setInterval(updateTime, 1000);
  updateTime();
</script>
