---
import Card from "./Card/index.astro";
---

<Card colSpan="lg:col-span-2" rowSpan="md:row-span-1" title="My Locations">
  <div class="flex flex-col justify-center h-full gap-4">
    <div>
      <p class="text-sm font-medium text-gray-400">Stanford, CA</p>
      <p id="stanford-time" class="text-2xl font-serif text-white italic"></p>
    </div>
    
    <div class="h-[1px] w-full bg-gray-800"></div>

    <div>
      <p class="text-sm font-medium text-gray-400">Durham, NC</p>
      <p id="durham-time" class="text-2xl font-serif text-white italic"></p>
    </div>
  </div>
</Card>

<script>
  function updateTime() {
    const now = new Date();

    const stanfordOptions = {
      timeZone: "America/Los_Angeles",
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      hour12: true,
    } as const;

    const durhamOptions = {
      timeZone: "America/New_York",
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      hour12: true,
    } as const;

    const stanfordTime = new Intl.DateTimeFormat("en-US", stanfordOptions).format(now);
    const durhamTime = new Intl.DateTimeFormat("en-US", durhamOptions).format(now);

    const stanfordEl = document.getElementById("stanford-time");
    const durhamEl = document.getElementById("durham-time");

    if (stanfordEl) stanfordEl.textContent = stanfordTime;
    if (durhamEl) durhamEl.textContent = durhamTime;
  }

  // Update every second
  setInterval(updateTime, 1000);
  // Run once immediately
  updateTime();
</script>
